"use strict";(globalThis.webpackChunkrussia_history=globalThis.webpackChunkrussia_history||[]).push([[385],{3746:(e,t,i)=>{i.d(t,{Z:()=>c});var s=i(41102),r=i(48651),n=i(65189);function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class a{constructor(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,"cache",[]);const i=null!==(e=t.namespace)&&void 0!==e?e:"default";return a.instance[i]?a.instance[i]:(a.instance[i]=this,this)}clean(){this.cache.length=0}all(){return this.cache}addFull(e,t,i){return this.add(e,t,i,!0)}add(e,t,i,n){const o=this._find(e,i);if(o)return o.value;{let o;o=t instanceof Function?t():t;const a=i&&JSON.parse(JSON.stringify((0,s.d)(i))),c={key:e,value:o,props:a,options:a};return n&&!(0,r.f)(o)?o:(this.cache.push(c),o instanceof Promise?(o.catch((t=>{throw this.delete(e,i),t})),n&&o.then((t=>((0,r.f)(t)||this.delete(e,i),t))),o):o)}}match(e,t){const i=this._find(e,t);if(i)return i.value}matchAll(e,t){return e?this.cache.filter((i=>this._filter(i,e,t))).map((e=>e.value)):this.cache.map((e=>e.value))}delete(e,t){let i=[];"string"==typeof e?i=this.cache.filter((i=>this._filter(i,e,t))):i.push(e);for(const e of i){const t=this.cache.indexOf(e);this.cache.splice(t,1)}}_find(e,t){return this.cache.find((i=>this._filter(i,e,t)))}_filter(e,t,i){if(e.key===t){if(i){const t=e.props||e.options;return(0,n.v)(t||{},(0,s.d)(i))}return!0}return!1}}o(a,"instance",{});const c=a},61521:(e,t,i)=>{i.d(t,{Z:()=>d});class s extends Error{constructor(){var e,t;super(),t="CancelError",(e="name")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this.name=t,Object.setPrototypeOf(this,s.prototype)}}class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,i,s;this.options=e,t=this,i="_promises",s=new Map,i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s}get isLoaded(){return this._promises.size>0}remove(e){this._promises.has(e)&&(this._promises.delete(e),this._onStop())}get(e){return this._promises.get(e)}add(e,t){const i=t||e,s=this._promises.get(i);return this.options.onStart&&!this.isLoaded&&this.options.onStart(),s||(this._promises.set(i,e),e.finally((()=>{this.remove(i)})),e)}abort(){this.isLoaded&&(this._promises.forEach((e=>{e.cancel&&e.cancel()})),this._promises.clear(),this._onStop())}waitFunc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";t=t||e.name;return this.get(t)||this.add(e(),t)}WaitForMe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=this.get.bind(this),i=this.add.bind(this);return function(s,r,n){const o=n.value;return e=e||r,n.value=function(){const s=t(e);if(s)return s;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];const c=i(o.apply(this,n),e);return c},n}}GetOrCreateDecorator(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.WaitForMe(e)}_onStop(){this.options.onStop&&!this.isLoaded&&this.options.onStop()}}class n extends Error{constructor(){var e,t;super(),t="TimeoutError",(e="name")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this.name=t,Object.setPrototypeOf(this,n.prototype)}}let o;function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const c=(e,t,i,s)=>{try{e(i(s))}catch(e){t(e)}};let h=0;o=Symbol.toStringTag;class l{constructor(e,t){a(this,o,void 0),a(this,"id",h++),a(this,"_isCanceled",!1),a(this,"_isPending",!0),a(this,"_promise",void 0),a(this,"_cancelPromise",void 0),a(this,"_cancelHandlers",[]),a(this,"_setCanceledCallback",void 0),a(this,"_parentPromise",void 0),a(this,"_children",[]),this._cancelPromise=new Promise(((e,t)=>{this._setCanceledCallback=t=>e(t||new s)}));const i=[this._cancelPromise,new Promise(((t,i)=>e((e=>{e instanceof l?this.attach(e):this._isPending=!1,t(e)}),(e=>{this._isPending=!1,i(e)}),(e=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(e)}))))];t&&i.push(new Promise(((e,i)=>{setTimeout((()=>{if(this._isPending)try{this.cancel()}finally{i(new n)}}),t)}))),this._promise=Promise.race(i)}static createControl(e){return new r(e)}static resolve(e){return new l((t=>t(e)))}static reject(e){return new l(((t,i)=>i(e)))}static all(e){return new l(((t,i)=>{Promise.all(e).then(t).catch(i)})).catch((t=>{if(t instanceof this.CancelError)for(const t of e)"cancel"in t&&t.cancel();throw t}))}attach(e){this._isCanceled?e.cancel():this._children.push(e)}then(e,t){const i=new l(((i,s)=>{if(this._promise){const r=e=>{t?c(i,s,t,e):s(e)};this._promise.then((t=>{this._isCanceled?r(t):e?c(i,s,e,t):i(t)}),r)}}));return i._parentPromise=this,this._children.push(i),i}catch(e){return this._isCanceled&&e&&e(new s),this.then(void 0,e)}finally(e){return this._promise?this._promise.finally(e):this._isCanceled?Promise.reject(new s):Promise.reject(e)}cancel(){if(this._isCanceled||!this._isPending)return this;this._isCanceled=!0;const e=this._getTopParent();if(e&&e.cancel(),this._children&&this._children.forEach((e=>e.cancel())),this._isPending){if(this._cancelHandlers.length)try{for(const e of this._cancelHandlers)e()}catch(e){}this._setCanceledCallback&&this._setCanceledCallback()}return this._destroy(),this}_getTopParent(){let e=this._parentPromise,t=!!e;for(;t;)e&&e._parentPromise?(e=e._parentPromise,t=!!e):t=!1;return e}_destroy(){this._setCanceledCallback=void 0,this._cancelPromise=void 0,this._promise=void 0}}a(l,"CancelError",s),a(l,"TimeoutError",n),a(l,"PromiseControl",r),Object.setPrototypeOf(l.prototype,Promise.prototype);const d=l}}]);
//# sourceMappingURL=main-e8f745b5f311aab.js.map